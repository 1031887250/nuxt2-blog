<fieldset><legend>船新版本</legend><p>请看这里：<a href="https://blog.halberd.cn/articles/6562">https://blog.halberd.cn/articles/6562</a></p></fieldset>
<h3><sup class="fake-head" id="id-%E6%83%B3%E6%B3%95"></sup><a class="header-link" href="#id-%E6%83%B3%E6%B3%95"><p>想法</p></a></h3>
<p>  某次逛 v2ex 看到 <code>cloudflare page</code> 这个东西，cloudflare 我还是知道的，毕竟用梯子经常被查 DNS<img src="/sticker/aru/15.png?ran=1645778845175" alt="sticker">
。摸鱼无聊便进去瞅了瞅，和 vercel 差不多。但是 cloudflare 的速度还是很好的，于是我就抱着试试的想法开始重写了。
  vue 有 <a target="_blank" href="https://nuxtjs.org/">Nutxjs</a> 这个框架，专为静态打包设计，可以把一些静态的代码打包成固定的 html，对我来说唯一的好处就是 SEO，搜索引擎搜不到的网站没有灵魂！<img src="/sticker/yellow-face/32.png?ran=1645778845175" alt="sticker"></p>
<h3><sup class="fake-head" id="id-%E6%93%8D%E4%BD%9C"></sup><a class="header-link" href="#id-%E6%93%8D%E4%BD%9C"><p>操作</p></a></h3>
<p>  进度比想象中快，差不多一个星期就把整个项目迁移到 nuxt 了，踩的坑其实不多，就是 nuxt 自带的 dev server 实在太慢了。
  代码部分无法细说，这里介绍如何做一个和本站一样的博客</p>
<ol>
<li>fork <a target="_blank" href="https://github.com/yunyuyuan/cloudflare-blog">项目</a></li>
<li>克隆项目代码:<code>git clone</code></li>
<li>下载依赖:<code>yarn install</code></li>
<li>运行测试:<code>npm run dev</code>，正常情况应该在 <code>localhost:3000</code> 就可以看到网页了。如果你遇到问题了无法解决可以联系我<img src="/sticker/yellow-face/56.png?ran=1645778845175" alt="sticker"></li>
<li>进入 <a target="_blank" href="https://dash.cloudflare.com/">cloudflare</a>，创建一个 page，链接 fork 的 github 仓库，选择部署方式为 <code>Nuxt.js</code>。
<span class="image-container"><img data-viewer="" alt="选择Nuxt.js" title="选择Nuxt.js" style="width: 40rem !important;" src="https://z3.ax1x.com/2021/04/07/c8XrnO.png"><small class="desc">选择 Nuxt.js</small></span></li>
<li>回到代码部分，<code>git push</code></li>
<li>再回到 cloudflare 控制台，应该就能看到正在部署了。</li>
</ol>
<h3><sup class="fake-head" id="id-%E5%90%8E%E8%AF%9D"></sup><a class="header-link" href="#id-%E5%90%8E%E8%AF%9D"><p>后话</p></a></h3>
<p>  这个方案已经算是很不错的，基本只有一个缺点:<span style="color: red">cloudflare page 免费版限制一个月最多只能部署 500 次</span>。正常情况已经够用了，你也不会天天写博客吧，一月一篇都算勤快的<img src="/sticker/aru/13.png?ran=1645778845175" alt="sticker">
  用电信访问 cloudflare 速度很慢，所以我给 DNS 开了一个电信专线，指到 vercel 的部署，vercel 速度比较快，但是一个月流量限制 100G。</p>
