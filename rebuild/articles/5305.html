<h3><sup class="fake-head" id="id-%E8%B5%B7%E5%9B%A0"></sup><a class="header-link" href="#id-%E8%B5%B7%E5%9B%A0"><p>起因</p></a></h3>
<p>  公司终于给换 win 本了，果不其然是美帝良心的 yoga。原以为联想的笔记本对 linux 兼容都很好，但还是翻车了。细数一下踩的坑<img src="/sticker/yellow-face/12.png?ran=1640706112642" alt="sticker"></p>
<h3><sup class="fake-head" id="id-%E8%B8%A9%E5%9D%91"></sup><a class="header-link" href="#id-%E8%B8%A9%E5%9D%91"><p>踩坑</p></a></h3>
<ol>
<li>一开始我准备好了安装盘，开机按 <code>F2</code> 和 <code>Delete</code> 死活进不去 bios，百度才发现原来要和 <code>fn</code> 一起按。</li>
<li>关闭 bios 安全启动，<code>fn</code>+ <code>F12</code> 选择 usb 启动，进入 Manjaro boot 界面，看起来没问题。但是启动后，屏幕狂闪，移动鼠标就闪烁，貌似是屏幕刷新故障。然后我关机了，win 用了几天。</li>
<li>周末在家继续尝试，外接显示器发现不闪烁，笔记本屏幕闪烁，google 后发现了<a target="_blank" href="https://wiki.archlinux.org/title/Lenovo_Yoga_14s_2021">这个网址</a>，arch 的社区还是庞大啊，对笔记本型号都有专门的解决方案。</li>
<li>我根据上面的说明，改 <code>/etc/default/grub</code>，但是在 <code>sudo update-grub</code> 时报错了，查了一下，应该是因为这是启动盘，<code>/mnt</code> 是只读的，无奈，先用不闪烁的显示器屏幕装好了系统。</li>
<li>装好后，按照上面的方案，加两个参数，屏幕不闪键盘也能用了。</li>
</ol>
<blockquote>
  <p>到此硬件基本搞定，系统装好了<img src="/sticker/aru/61.png?ran=1640706112642" alt="sticker">。下面就是软件部分。</p>
</blockquote>
<ol>
<li>先在网上找教程，换源，装 googlepinyin，然后发现命令行和系统软件里无法切换输入法。查了半天才发现 kde 下需要另外装一个 <code>kcm-fcitx</code> 包。</li>
<li>触摸板没有手势，影响体验。网上查了一下，安装 <code>libinput-gesture</code> 和 <code>gesture</code>，配置手势，能用，但不流畅。</li>
<li>没有 linux 企业微信，上班都用企业微信沟通，不得不骂一下垃圾 tx。首先找到的解决方案是用 deepin 的包，但是启动时报错，后面查了一下改好了 (还发现 <code>run.sh</code> 的 Author 是一个前同事)。但是改 winecfg 无法缩放，而且 cpu 占用很高，有 20%，不知道是 wine 的问题还是软件的问题，反正这个方案肯定是不行的。</li>
<li>后面尝试 <strong>virtual box</strong> 装 win7，安装增强工具时又报错了，网上查，找到一个解决方法：手动下载一个低版本的增强工具镜像，然后安装。试了一下发现可行。弄好后，关闭窗口工具隐藏 win 任务栏，企业微信窗口基本以假乱真了，而且可以双向剪贴板，双向拖放。关键是 cpu 占用不到 5%。</li>
</ol>
<p>到此软硬件都弄好了，周一上班就可以试试开发体验。  </p>
<p><span style="color: #888">更新：企业微信体验太差；笔记本屏幕分辨率过高，使用 <code>xrandr</code> 会导致画面撕裂；manjaro 的色彩管理没搞明白，让本就垃圾的显示器更伤眼了。遂换回 win11，但是换成了专业版。还是自己太菜了<img src="/sticker/aru/64.png?ran=1640706112642" alt="sticker"></span></p>
<h3><sup class="fake-head" id="id-%E5%B0%8F%E7%BB%93"></sup><a class="header-link" href="#id-%E5%B0%8F%E7%BB%93"><p>小结</p></a></h3>
<p>  折腾了不少时间，还是有收获的，linux 就需要自己折腾。
  还有，Mac 真不好用。</p>
