<p>先看小车上路效果:</p>
<div class="embed-video youtube">
                        <iframe src="https://www.youtube.com/embed/4ldY5mIPzvU" title="上路效果" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
                        <small class="desc">上路效果</small>
                    </div>
<p>  其实买树莓派的契机，就是想自己动手做个遥控车，小时候没有条件去做，现在圆一下当初的<strong>梦想</strong>。男人的快乐，如此简单。
  废话不多说，直接进入正题。</p>
<h3><sup class="fake-head" id="id-%E5%87%86%E5%A4%87"></sup><a class="header-link" href="#id-%E5%87%86%E5%A4%87"><p>准备</p></a></h3>
<ul>
<li>一颗爱手工的心</li>
<li>已经配置好的树莓派一只，之前我写过<a target="_blank" href="https://blog.halberd.cn/articles/1147">入门树莓派</a>的文章</li>
<li>工具材料以及大概价格:<ul>
<li>热融胶枪 + 热融胶，￥30</li>
<li>雪糕棍 (宽 18mm)，￥10</li>
<li>四种杜邦线 (长 30cm)，￥5</li>
<li>四只 tt 马达，带橡胶轮胎，￥12</li>
<li>MG995 舵机，￥12</li>
<li>一次性筷子，￥0</li>
<li>5V2A 充电宝，用于给树莓派单独供电，￥自备</li>
<li>12V 可充电电池，￥自行购买</li>
<li>双路 L298N 电路板，￥5</li>
<li>4 个小轴承，按照一次性筷子的尺寸买，内径要比筷子尖大，比筷子体小，￥4</li>
<li>小刀，螺丝刀，电脑，手机等物品</li></ul></li>
</ul>
<h3><sup class="fake-head" id="id-%E5%BC%80%E5%A7%8B%E5%88%B6%E4%BD%9C"></sup><a class="header-link" href="#id-%E5%BC%80%E5%A7%8B%E5%88%B6%E4%BD%9C"><p>开始制作</p></a></h3>
<blockquote>
  <p>动手部分<img src="/sticker/yellow-face/54.png?ran=1639891902926" alt="sticker"></p>
</blockquote>
<ol>
<li>取四个雪糕棍，在两端钻孔，共 8 个孔，孔的直径应该稍大于轴承的内径，注意小心打孔，雪糕棍很脆弱。
<span class="image-container"><img data-viewer="" alt="打孔" title="打孔" style="width: 25rem !important;height: unset !important;" src="https://z3.ax1x.com/2021/04/15/c2GvGV.jpg"><small class="desc">打孔</small></span></li>
<li>把四个轴承夹在打好孔的雪糕棍中间，孔位对齐。用热融胶固定雪糕棍。
<span class="image-container"><img data-viewer="" alt="固定" title="固定" style="width: 25rem !important;height: unset !important;" src="https://z3.ax1x.com/2021/04/15/c2GjP0.jpg"><small class="desc">固定</small></span></li>
<li>取两根筷子，均从筷子尖切适当距离，再把切断处打磨至筷子尖相近直径 (中间粗两头细的效果)，用热融胶粘到 tt 马达中间位置 (转轴挡住了，可以歪一点没关系)，注意要绕着马达粘一圈，不要节约，热融胶粘塑料不够紧。效果如下:
<span class="image-container"><img data-viewer="" alt="前桥受力轴" title="前桥受力轴" style="width: 25rem !important;height: unset !important;" src="https://z3.ax1x.com/2021/04/15/c2Gx2T.jpg"><small class="desc">前桥受力轴</small></span></li>
<li>用热融胶固定两组雪糕棍，注意雪糕棍不要与马达有摩擦。
<span class="image-container"><img data-viewer="" alt="固定" title="固定" style="width: 25rem !important;height: unset !important;" src="https://z3.ax1x.com/2021/04/15/c2JCqJ.jpg"><small class="desc">固定</small></span></li>
<li>取两根筷子，从尖部切断适当距离，同样的方法粘到 tt 马达的远端。取一根雪糕棍，以同样的距离在两端打孔。这部分做转向结构。</li>
<li>找准合适位置，把舵机固定在前桥上，使舵机臂位于中间位置，按图示方法连接转向结构：
<span class="image-container"><img data-viewer="" alt="转向结构" title="转向结构" style="width: unset !important;height: 25rem !important;" src="https://z3.ax1x.com/2021/04/15/c2GzxU.jpg"><small class="desc">转向结构</small></span></li>
<li>四只 tt 马达分两组，并联在 L298N 的两组输出上。由于 L298N 自带一个 5V 输出，而 5V 也在 MG995 需求电压范围内，我们可以直接把舵机的输入接在 L298N 的 5V 输出上。</li>
<li>自由发挥，把小车的其他部分装好。以下是我做的：
<span class="image-container"><img data-viewer="" alt="完工" title="完工" style="width: 25rem !important;height: unset !important;" src="https://z3.ax1x.com/2021/04/15/c2J9r4.jpg"><small class="desc">完工</small></span></li>
</ol>
<blockquote>
  <p>代码部分<img src="/sticker/aru/133.png?ran=1639891902926" alt="sticker"></p>
</blockquote>
<ol>
<li>连接杜邦线 (以下均为树莓派板子排针的物理序号):<ul>
<li>L298N 的 <code>IN1</code>-<code>IN4</code> 分别接在 <code>11</code>, <code>12</code>, <code>13</code>, <code>15</code></li>
<li>拔掉 L298N 的两个使能，并分别接在 <code>16</code>, <code>18</code></li>
<li>舵机的信号线接在 <code>22</code></li></ul></li>
<li>树莓派端的代码，我用 python 写的，通过蓝牙控制，代码仓库:<a target="_blank" href="https://github.com/yunyuyuan/car_controller_server">car_controller_server</a></li>
<li>手机端的代码，我用 flutter 写的，代码仓库:<a target="_blank" href="https://github.com/yunyuyuan/car_controller">car_controller</a></li>
</ol>
<p>  具体逻辑挺简单，就是蓝牙连接，然后发消息控制树莓派输出信号到 GPIO。通过这个项目，又学了新技能 <code>Flutter</code><img src="/sticker/aru/61.png?ran=1639891902926" alt="sticker"></p>
<h3><sup class="fake-head" id="id-%E7%AE%80%E5%8D%95%E8%AF%B4%E8%AF%B4"></sup><a class="header-link" href="#id-%E7%AE%80%E5%8D%95%E8%AF%B4%E8%AF%B4"><p>简单说说</p></a></h3>
<p>  最初在想各种方案，一开始打算用速度差实现转弯，左边两个轮子不转，右边两个转，就实现了左转，事实证明此方法行不通，力学分析不到位<img src="/sticker/aru/7.png?ran=1639891902926" alt="sticker">，充电宝那点电流带不动马达。
  过了段时间，狠了狠心，买了块 12V，3000mah 的锂电池，马达转的贼猛。但是花￥7.5 买的全金属 MG90 舵机却拉跨了，一直抽搐，原因可能是没用轴承摩擦太大，遂又搁置一段时间。
  最终，花￥12.5 大价钱买了 MG995，还有 18mm 的雪糕棍 (到手发现全部是 17mm 的，淦他娘的淘宝无良商家<img src="/sticker/aru/105.png?ran=1639891902926" alt="sticker">)。诞生了这个雪糕战车。
  万事还是得走出第一步，动手做了才知道效果，头脑想的都不算！</p>
